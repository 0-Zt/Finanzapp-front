<article class="glass-card animate-fade-up">
  <header class="flex flex-wrap items-start justify-between gap-4">
    <div>
      <h2 class="text-xl font-semibold text-slate-900 dark:text-white">{{ title }}</h2>
      <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">
        {{ description }}
      </p>
    </div>
    <span class="filter-chip">Periodo actual</span>
  </header>

  @if (!items.length) {
    <div class="mt-6 text-sm text-slate-500 dark:text-slate-300">
      No hay gastos registrados en este periodo.
    </div>
  } @else {
    <div class="mt-6 flex flex-wrap items-center gap-8">
      <div class="relative h-44 w-44">
        <div
          class="h-full w-full rounded-full"
          [style.background]="gradient"
        ></div>
        <div class="absolute inset-4 rounded-full bg-white/95 shadow-inner dark:bg-slate-950/70"></div>
        <div class="absolute inset-0 flex flex-col items-center justify-center text-center">
          <span class="text-xs uppercase tracking-[0.3em] text-slate-500 dark:text-slate-400">
            Total
          </span>
          <span class="text-lg font-semibold text-slate-900 dark:text-white">
            {{ formatValue(total) }}
          </span>
        </div>
      </div>

      <ul class="flex min-w-[12rem] flex-col gap-3 text-sm">
        @for (item of items; track item.label) {
          <li class="flex items-center justify-between gap-3 rounded-xl border border-slate-200/60 bg-white/70 px-3 py-2 dark:border-slate-800/70 dark:bg-slate-900/60">
            <div class="flex items-center gap-2">
              <span
                class="h-2.5 w-2.5 rounded-full"
                [style.backgroundColor]="item.color"
              ></span>
              <span class="text-slate-600 dark:text-slate-300">{{ item.label }}</span>
            </div>
            <span class="font-semibold text-slate-900 dark:text-white">
              {{ item.percent }}%
            </span>
          </li>
        }
      </ul>
    </div>
  }
</article>
