<div class="grid w-full grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5">
  @if (isLoading) {
    @for (i of skeletonItems; track i) {
      <app-skeleton-card></app-skeleton-card>
    }
  } @else {
    @for (card of cards; track card.title; let i = $index) {
      <article
        class="glass-card flex h-full flex-col gap-4 p-5 animate-fade-up cursor-default hover:scale-[1.02] hover:shadow-xl"
        [ngClass]="accentClasses[card.accent]"
        [style.animation-delay.ms]="i * 80"
      >
        <div class="flex flex-col gap-3">
          @if (card.tag) {
            <div class="flex justify-end">
              <span class="badge-soft text-[0.55rem] uppercase tracking-wide whitespace-nowrap">
                {{ card.tag }}
              </span>
            </div>
          }
          <div class="flex items-center gap-3">
            <span
              class="flex h-10 w-10 shrink-0 items-center justify-center rounded-2xl text-xs font-semibold uppercase"
              [ngClass]="iconClasses[card.accent]"
            >
              {{ card.title.slice(0, 2) }}
            </span>
            <div class="flex flex-col min-w-0">
              <span class="text-[0.6rem] font-semibold uppercase tracking-[0.12em] text-slate-500 dark:text-slate-400">
                {{ card.title }}
              </span>
              <span class="text-[1.35rem] font-semibold leading-snug tracking-tight text-slate-900 dark:text-white sm:text-[1.55rem] tabular-nums">
                {{ card.value }}
              </span>
            </div>
          </div>
        </div>

        @if (card.delta) {
          <div class="flex items-baseline gap-2 text-sm font-semibold" [ngClass]="trendClass(card.trend)">
            <span>{{ card.delta }}</span>
            <span class="font-medium text-slate-600 dark:text-slate-300">{{ card.deltaLabel }}</span>
          </div>
        }

        <p class="text-sm leading-relaxed text-slate-600 dark:text-slate-300">{{ card.description }}</p>

        @if (card.items?.length) {
          <ul class="flex flex-col gap-2 pt-4 text-sm">
            @for (item of card.items; track item.label) {
              <li class="flex items-center justify-between text-slate-600 dark:text-slate-200">
                <span>{{ item.label }}</span>
                <span class="font-semibold text-slate-900 dark:text-white">{{ item.value }}</span>
              </li>
            }
          </ul>
        }
      </article>
    }
  }
</div>
